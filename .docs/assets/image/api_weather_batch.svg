<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="668.042230336931" height="680.1133335907273"><desc>title%20POST%20%2Fweather%2Fbatch%0A%0Aparticipant%20%22USER%22%20as%20user%0Aparticipant%20%22CLIENT_API%22%20as%20server%0Aparticipant%20%22REDIS%22%20as%20redis%0Aparticipant%20%22Open%20Weather%20Map%22%20as%20openweather%0A%0Auser-%3E%3Eserver%3A%20POST%20%2Fweather%2Fbatch%5Cn%5Bbody%5D%20cities%3A%20string%5B%5D%0Aserver-%3E%3Eredis%3A%20Transaction%5Cn%5Bkey%5D%20weather%2Fcity%2F%3Acity%5Cn%5Bvalue%5D%20string%20(Weather)%0Aredis--%3E%3Eserver%3A%20%5Bvalue%5D%20Weather%5B%5D%0A%0A%0Aloop%20%EC%BA%90%EC%8B%9C%20%EC%97%86%EB%8A%94%20%EB%8F%84%EC%8B%9C%20(async)%0Aserver-%3E%3Eopenweather%3A%20POST%20%2Fdata%2F2.5%2Fweather%3Fq%3D%3Acity%0Aopenweather--%3E%3Eserver%3A%20response%0Aserver-%3E%3Eredis%3A%20%5Bkey%5D%20weather%2Fcity%2F%3Acity%5Cn%5Bvalue%5D%20string%20(Weather)%5Cn%5Bttl%5D%20600%0Aend%0A%0A%0Aserver--%3E%3Euser%3A%20Weather%5B%5D</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="668" height="680"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 48.24800200732031 103.10369087072726 L 48.24800200732031 680.1133335907273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 235.3096541462526 103.10369087072726 L 235.3096541462526 680.1133335907273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 434.3182819931927 103.10369087072726 L 434.3182819931927 680.1133335907273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 576.322510495138 103.10369087072726 L 576.322510495138 680.1133335907273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 55.781863464727266 L 87.70012531464062 55.781863464727266 L 87.70012531464062 103.10369087072726 L 8.795878699999996 103.10369087072726 L 8.795878699999996 55.781863464727266 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">USER</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 174.2648336953776 55.781863464727266 L 296.3544745971276 55.781863464727266 L 296.3544745971276 103.10369087072726 L 174.2648336953776 103.10369087072726 L 174.2648336953776 55.781863464727266 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="193.3518904743776" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">CLIENT_API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 392.82965203304036 55.781863464727266 L 475.80691195334504 55.781863464727266 L 475.80691195334504 103.10369087072726 L 392.82965203304036 103.10369087072726 L 392.82965203304036 55.781863464727266 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="411.9167088120404" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">REDIS</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 493.398669353345 55.781863464727266 L 659.246351636931 55.781863464727266 L 659.246351636931 103.10369087072726 L 493.398669353345 103.10369087072726 L 493.398669353345 55.781863464727266 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="512.485726132345" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Open Weather Map</text></g></g><g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16pt" font-style="normal" font-weight="normal" text-decoration="normal" x="232.04207611083984" y="26.547561167272725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /weather/batch</text></g><g><rect fill="white" stroke="none" x="69.06491493065364" y="138.28720567072725" width="145.42782629226562" height="22.86928462"/><rect fill="white" stroke="none" x="69.06491493065364" y="155.87896307072725" width="134.82649267410156" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="71.70367854065364" y="154.11978733072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /weather/batch</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="71.70367854065364" y="171.71154473072727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[body] cities: string[]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 48.24800200732031 178.74824769072725 L 233.1106844712526 178.74824769072725" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(235.3096541462526,178.74824769072725) translate(-235.3096541462526,-178.74824769072725)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 220.23785250296365 172.02458886005584 L 233.66163890643008 178.74824769072725 L 220.23785250296365 185.47190652139867" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="256.1265670695859" y="205.1358837907273" width="81.33332861160156" height="22.86928462"/><rect fill="white" stroke="none" x="256.1265670695859" y="222.7276411907273" width="148.66328466628906" height="22.86928462"/><rect fill="white" stroke="none" x="256.1265670695859" y="240.3193985907273" width="157.37480200027343" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="258.76533067958593" y="220.9684654507273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Transaction</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="258.76533067958593" y="238.5602228507273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[key] weather/city/:city</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="258.76533067958593" y="256.1519802507273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[value] string (Weather)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 235.3096541462526 263.1886832107273 L 432.1193123181927 263.1886832107273" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(434.3182819931927,263.1886832107273) translate(-434.3182819931927,-263.1886832107273)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 419.2464803499037 256.46502438005587 L 432.6702667533702 263.1886832107273 L 419.2464803499037 269.91234204139863" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="276.89605254321873" y="289.5763193107273" width="115.83583105300781" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="279.53481615321874" y="305.4089009707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[value] Weather[]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 434.3182819931927 312.44560393072726 L 237.5086238212526 312.44560393072726" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(235.3096541462526,312.44560393072726) translate(-235.3096541462526,-312.44560393072726)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 250.38145578954155 305.7219451000559 L 236.9576693860751 312.44560393072726 L 250.38145578954155 319.1692627613986" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="299.075695175539" y="386.33098501072726" width="213.4807742903125" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="301.714458785539" y="402.1635666707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /data/2.5/weather?q=:city</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 235.3096541462526 409.20026963072723 L 574.123540820138 409.20026963072723" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(576.322510495138,409.20026963072723) translate(-576.322510495138,-409.20026963072723)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 561.250708851849 402.4766108000559 L 574.6744952553155 409.20026963072723 L 561.250708851849 415.9239284613986" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="373.02343382299995" y="435.58790573072724" width="65.58529699539062" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="375.66219743299996" y="451.42048739072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">response</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 576.322510495138 458.4571903507272 L 237.5086238212526 458.4571903507272" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(235.3096541462526,458.4571903507272) translate(-235.3096541462526,-458.4571903507272)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 250.38145578954155 451.73353152005586 L 236.9576693860751 458.4571903507272 L 250.38145578954155 465.18084918139857" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="256.1265670695859" y="484.8448264507272" width="148.66328466628906" height="22.86928462"/><rect fill="white" stroke="none" x="256.1265670695859" y="502.43658385072723" width="157.37480200027343" height="22.86928462"/><rect fill="white" stroke="none" x="256.1265670695859" y="520.0283412507273" width="53.359115965117184" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="258.76533067958593" y="500.67740811072724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[key] weather/city/:city</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="258.76533067958593" y="518.2691655107272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[value] string (Weather)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="258.76533067958593" y="535.8609229107273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[ttl] 600</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 235.3096541462526 542.8976258707272 L 432.1193123181927 542.8976258707272" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(434.3182819931927,542.8976258707272) translate(-434.3182819931927,-542.8976258707272)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 419.2464803499037 536.1739670400558 L 432.6702667533702 542.8976258707272 L 419.2464803499037 549.6212847013986" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="107.4936869033099" y="595.6728980707272" width="68.57028234695312" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="110.13245051330989" y="611.5054797307272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Weather[]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 235.3096541462526 618.5421826907273 L 50.44697168232031 618.5421826907273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(48.24800200732031,618.5421826907273) translate(-48.24800200732031,-618.5421826907273)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 63.319803650609266 611.8185238600558 L 49.89601724714282 618.5421826907273 L 63.319803650609266 625.2658415213987" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 173.7385032462526 338.83324003072727 L 637.893661395138 338.83324003072727 L 637.893661395138 569.2852619707272 L 173.7385032462526 569.2852619707272 L 173.7385032462526 338.83324003072727 Z" stroke-miterlimit="10" stroke-width="2.5131082" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 173.7385032462526 338.83324003072727 L 173.7385032462526 359.94334891072725 L 233.67641257750262 359.94334891072725 L 244.2314670175026 349.38829447072726 L 244.2314670175026 338.83324003072727 L 173.7385032462526 338.83324003072727" stroke-miterlimit="10" stroke-width="2.5131082"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="191.3302606462526" y="352.90664595072724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><g><rect fill="white" stroke="none" x="259.1844608075026" y="340.24058062272724" width="124.81753576492187" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="261.8232244175026" y="352.90664595072724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[캐시 없는 도시 (async)]</text></g></g></g></svg>